(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{17:function(e,t,n){e.exports=n(18)},18:function(e,t,n){"use strict";n.r(t);var i=n(11),o=n(10),r=n.n(o),a=n(15),s=n.n(a),c=n(6),d=(n(23),n(16));n(25);function l(){return Object(o.useEffect)((function(){var e,t,n,o,r,a,s,l,w=null,u=!1;function m(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)}function p(e,r){if(r){var c=o.xr.getReferenceSpace(),d=o.xr.getSession();s.setFromCamera(l,t);var m,p=s.intersectObjects(n.children,!1),f=Object(i.a)(p);try{for(f.s();!(m=f.n()).done;){m.value.object.material.color.set("#0000ff")}}catch(x){f.e(x)}finally{f.f()}if(!1===u&&(d.requestReferenceSpace("viewer").then((function(e){d.requestHitTestSource({space:e}).then((function(e){w=e}))})),d.addEventListener("end",(function(){u=!1,w=null})),u=!0),w){var h=r.getHitTestResults(w);if(h.length){var v=h[0];a.visible=!0,a.matrix.fromArray(v.getPose(c).transform.matrix)}else a.visible=!1}}o.render(n,t)}!function(){e=document.querySelector(".scene"),n=new c.y,t=new c.r(70,window.innerWidth/window.innerHeight,.01,20);var i=new c.i(16777215,12303359,1);i.position.set(.5,1,.25),n.add(i),(o=new c.C({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),o.setSize(window.innerWidth,window.innerHeight),o.xr.enabled=!0,e.appendChild(o.domElement),s=new c.w,console.log("camera.position",t.position);t.position;l=new c.A,document.body.addEventListener("click",(function(e){console.log("click"),console.log(e.clientX,e.clientY)}));var w=new c.m(new c.s(1,1,1,1),new c.p({side:c.e}));w.rotation.x=Math.PI/2,w.position.set(0,-1,-2),n.add(w),document.body.appendChild(d.a.createButton(o,{requiredFeatures:["hit-test"]}));var u=new c.a(.1,.1,.2,32).translate(0,.1,0);(r=o.xr.getController(0)).addEventListener("select",(function(){var e=new c.o({color:16777215*Math.random()}),t=new c.m(u,e);t.position.set(0,0,-.3).applyMatrix4(r.matrixWorld),t.quaternion.setFromRotationMatrix(r.matrixWorld),n.add(t),console.log("reticleMatrix",a.matrix),console.log("mesh.position",t.position)})),n.add(r),(a=new c.m(new c.x(.15,.2,32).rotateX(-Math.PI/2),new c.n)).matrixAutoUpdate=!1,a.visible=!1,n.add(a),window.addEventListener("resize",m)}(),o.setAnimationLoop(p)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"scene"}))}var w=document.getElementById("root");s.a.render(r.a.createElement(l,null),w)}},[[17,1,2]]]);
//# sourceMappingURL=main.5f8a6606.chunk.js.map