(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{15:function(e,n,t){e.exports=t(16)},16:function(e,n,t){"use strict";t.r(n);var i=t(10),r=t.n(i),o=t(13),a=t.n(o),s=t(6),d=(t(21),t(14));t(23);function c(){return Object(i.useEffect)((function(){var e,n,t,i,r,o,a=null,c=!1;function l(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function w(e,r){if(r){var s=i.xr.getReferenceSpace(),d=i.xr.getSession();if(!1===c&&(d.requestReferenceSpace("viewer").then((function(e){d.requestHitTestSource({space:e}).then((function(e){a=e}))})),d.addEventListener("end",(function(){c=!1,a=null})),c=!0),a){var l=r.getHitTestResults(a);if(l.length){var w=l[0];o.visible=!0,o.matrix.fromArray(w.getPose(s).transform.matrix)}else o.visible=!1}}i.render(t,n)}!function(){e=document.querySelector(".scene"),t=new s.x,n=new s.r(70,window.innerWidth/window.innerHeight,.01,20);var a=new s.i(16777215,12303359,1);a.position.set(.5,1,.25),t.add(a),(i=new s.A({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.xr.enabled=!0,e.appendChild(i.domElement);var c=new s.m(new s.s(1,1,1,1),new s.p({side:s.e}));c.rotation.x=Math.PI/2,c.position.set(0,-1,-2),t.add(c),document.body.appendChild(d.a.createButton(i,{requiredFeatures:["hit-test"]}));var w=new s.a(.1,.1,.2,32).translate(0,.1,0);(r=i.xr.getController(0)).addEventListener("select",(function(){if(o.visible){var e=new s.o({color:16777215*Math.random()}),n=new s.m(w,e);n.position.setFromMatrixPosition(o.matrix),n.scale.y=2*Math.random()+1,t.add(n),console.log("reticleMatrix",o.matrix),console.log("mesh.position",n.position)}})),t.add(r),(o=new s.m(new s.w(.15,.2,32).rotateX(-Math.PI/2),new s.n)).matrixAutoUpdate=!1,o.visible=!1,t.add(o),window.addEventListener("resize",l)}(),i.setAnimationLoop(w)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"scene"}))}var l=document.getElementById("root");a.a.render(r.a.createElement(c,null),l)}},[[15,1,2]]]);
//# sourceMappingURL=main.9c667084.chunk.js.map