(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{17:function(e,n,t){e.exports=t(18)},18:function(e,n,t){"use strict";t.r(n);var i=t(11),o=t(10),r=t.n(o),a=t(15),s=t.n(a),d=t(6),c=(t(23),t(16));t(25);function l(){return Object(o.useEffect)((function(){var e,n,t,o,r,a,s,l,w=null,u=!1;function m(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)}function p(e,r){if(r){var d=o.xr.getReferenceSpace(),c=o.xr.getSession();s.setFromCamera(l,n);var m,p=s.intersectObjects(t.children,!1),h=Object(i.a)(p);try{for(h.s();!(m=h.n()).done;){m.value.object.material.color.set("#0000ff")}}catch(x){h.e(x)}finally{h.f()}if(!1===u&&(c.requestReferenceSpace("viewer").then((function(e){c.requestHitTestSource({space:e}).then((function(e){w=e}))})),c.addEventListener("end",(function(){u=!1,w=null})),u=!0),w){var f=r.getHitTestResults(w);if(f.length){var v=f[0];a.visible=!0,a.matrix.fromArray(v.getPose(d).transform.matrix)}else a.visible=!1}}o.render(t,n)}!function(){e=document.querySelector(".scene"),t=new d.y,n=new d.r(70,window.innerWidth/window.innerHeight,.01,20);var i=new d.i(16777215,12303359,1);i.position.set(.5,1,.25),t.add(i),(o=new d.C({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),o.setSize(window.innerWidth,window.innerHeight),o.xr.enabled=!0,e.appendChild(o.domElement),s=new d.w,console.log("camera.position",n.position);n.position;l=new d.A;document.body.addEventListener("click",(function(e){l.x=e.clientX/window.innerWidth*2-1,l.y=-e.clientY/window.innerHeight*2+1,console.log(l.x,l.y)}));var w=new d.m(new d.s(1,1,1,1),new d.p({side:d.e}));w.rotation.x=Math.PI/2,w.position.set(0,-1,-2),t.add(w),document.body.appendChild(c.a.createButton(o,{requiredFeatures:["hit-test"]}));var u=new d.a(.1,.1,.2,32).translate(0,.1,0);(r=o.xr.getController(0)).addEventListener("select",(function(){var e=new d.o({color:16777215*Math.random()}),n=new d.m(u,e);n.position.set(0,0,-.3).applyMatrix4(r.matrixWorld),n.quaternion.setFromRotationMatrix(r.matrixWorld),t.add(n),console.log("reticleMatrix",a.matrix),console.log("mesh.position",n.position)})),t.add(r),(a=new d.m(new d.x(.15,.2,32).rotateX(-Math.PI/2),new d.n)).matrixAutoUpdate=!1,a.visible=!1,t.add(a),window.addEventListener("resize",m)}(),o.setAnimationLoop(p)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"scene"}))}var w=document.getElementById("root");s.a.render(r.a.createElement(l,null),w)}},[[17,1,2]]]);
//# sourceMappingURL=main.6f217354.chunk.js.map