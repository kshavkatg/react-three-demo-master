(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{15:function(e,n,t){e.exports=t(16)},16:function(e,n,t){"use strict";t.r(n);var i=t(10),o=t.n(i),r=t(13),a=t.n(r),s=t(6),d=(t(21),t(14));t(23);function c(){return Object(i.useEffect)((function(){var e,n,t,i,o,r,a,c=null,l=!1;function w(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function u(e,o){if(o){var a=i.xr.getReferenceSpace(),s=i.xr.getSession();if(!1===l&&(s.requestReferenceSpace("viewer").then((function(e){s.requestHitTestSource({space:e}).then((function(e){c=e}))})),s.addEventListener("end",(function(){l=!1,c=null})),l=!0),c){var d=o.getHitTestResults(c);if(d.length){var w=d[0];r.visible=!0,r.matrix.fromArray(w.getPose(a).transform.matrix)}else r.visible=!1}}i.render(t,n)}!function(){e=document.querySelector(".scene"),t=new s.y,n=new s.r(70,window.innerWidth/window.innerHeight,.01,20);var c=new s.i(16777215,12303359,1);c.position.set(.5,1,.25),t.add(c),(i=new s.C({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.xr.enabled=!0,e.appendChild(i.domElement),a=new s.w,console.log("camera.position",n.position);var l=n.position,u=new s.A(0,0,-10);u.normalize(),a.set(l,u),document.body.addEventListener("click",(function(e){console.log("click"),console.log(e.clientX,e.clientY)}));var m=new s.m(new s.s(1,1,1,1),new s.p({side:s.e}));m.rotation.x=Math.PI/2,m.position.set(0,-1,-2),t.add(m),document.body.appendChild(d.a.createButton(i,{requiredFeatures:["hit-test"]}));var p=new s.a(.1,.1,.2,32).translate(0,.1,0);(o=i.xr.getController(0)).addEventListener("select",(function(){var e=new s.o({color:16777215*Math.random()}),n=new s.m(p,e);n.position.set(0,0,-.3).applyMatrix4(o.matrixWorld),n.quaternion.setFromRotationMatrix(o.matrixWorld),t.add(n),console.log("reticleMatrix",r.matrix),console.log("mesh.position",n.position)})),t.add(o),(r=new s.m(new s.x(.15,.2,32).rotateX(-Math.PI/2),new s.n)).matrixAutoUpdate=!1,r.visible=!1,t.add(r),window.addEventListener("resize",w)}(),i.setAnimationLoop(u)}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scene"}))}var l=document.getElementById("root");a.a.render(o.a.createElement(c,null),l)}},[[15,1,2]]]);
//# sourceMappingURL=main.64f8ea38.chunk.js.map