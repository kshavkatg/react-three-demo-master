(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{15:function(e,t,n){e.exports=n(16)},16:function(e,t,n){"use strict";n.r(t);var i=n(10),r=n.n(i),o=n(13),a=n.n(o),s=n(6),d=(n(21),n(14));n(23);function c(){return Object(i.useEffect)((function(){var e,t,n,i,r,o,a=null,c=!1;function l(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function w(e,r){if(r){var s=i.xr.getReferenceSpace(),d=i.xr.getSession();if(!1===c&&(d.requestReferenceSpace("viewer").then((function(e){d.requestHitTestSource({space:e}).then((function(e){a=e}))})),d.addEventListener("end",(function(){c=!1,a=null})),c=!0),a){var l=r.getHitTestResults(a);if(l.length){var w=l[0];o.visible=!0,o.matrix.fromArray(w.getPose(s).transform.matrix)}else o.visible=!1}}i.render(n,t)}!function(){e=document.querySelector(".scene"),n=new s.x,t=new s.r(70,window.innerWidth/window.innerHeight,.01,20);var a=new s.i(16777215,12303359,1);a.position.set(.5,1,.25),n.add(a),(i=new s.A({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.xr.enabled=!0,e.appendChild(i.domElement);var c=new s.m(new s.s(1,1,1,1),new s.p({side:s.e}));c.rotation.x=Math.PI/2,c.position.set(0,-1,-2),n.add(c),document.body.appendChild(d.a.createButton(i,{requiredFeatures:["hit-test"]}));var w=new s.a(.1,.1,.2,32).translate(0,.1,0);(r=i.xr.getController(0)).addEventListener("select",(function(){if(o.visible){var e=new s.o({color:16777215*Math.random()}),t=new s.m(w,e);t.position.set(0,0,-.3).applyMatrix4(r.matrixWorld),t.quaternion.setFromRotationMatrix(r.matrixWorld),n.add(t),console.log("reticleMatrix",o.matrix),console.log("mesh.position",t.position)}})),n.add(r),(o=new s.m(new s.w(.15,.2,32).rotateX(-Math.PI/2),new s.n)).matrixAutoUpdate=!1,o.visible=!1,n.add(o),window.addEventListener("resize",l)}(),i.setAnimationLoop(w)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"scene"}))}var l=document.getElementById("root");a.a.render(r.a.createElement(c,null),l)}},[[15,1,2]]]);
//# sourceMappingURL=main.304bcd34.chunk.js.map