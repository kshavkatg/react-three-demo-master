(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{15:function(e,n,t){e.exports=t(16)},16:function(e,n,t){"use strict";t.r(n);var i=t(10),o=t.n(i),r=t(13),a=t.n(r),d=t(6),s=(t(21),t(14));t(23);function c(){return Object(i.useEffect)((function(){var e,n,t,i,o,r,a,c,l=null,w=!1;function u(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function m(e,o){if(o){var a=i.xr.getReferenceSpace(),d=i.xr.getSession();if(!1===w&&(d.requestReferenceSpace("viewer").then((function(e){d.requestHitTestSource({space:e}).then((function(e){l=e}))})),d.addEventListener("end",(function(){w=!1,l=null})),w=!0),l){var s=o.getHitTestResults(l);if(s.length){var c=s[0];r.visible=!0,r.matrix.fromArray(c.getPose(a).transform.matrix)}else r.visible=!1}}i.render(t,n)}!function(){e=document.querySelector(".scene"),t=new d.y,n=new d.r(70,window.innerWidth/window.innerHeight,.01,20);var l=new d.i(16777215,12303359,1);l.position.set(.5,1,.25),t.add(l),(i=new d.C({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.xr.enabled=!0,e.appendChild(i.domElement),a=new d.w,console.log("camera.position",n.position);n.position;c=new d.A;document.body.addEventListener("click",(function(e){c.x=e.clientX/window.innerWidth*2-1,c.y=-e.clientY/window.innerHeight*2+1,console.log(c.x,c.y)}));var w=new d.m(new d.s(10,10,1,1),new d.p({side:d.e}));w.rotation.x=Math.PI/2,w.position.set(0,-1,-2),t.add(w),document.body.appendChild(s.a.createButton(i,{requiredFeatures:["hit-test"]}));var m=new d.a(.1,.1,.2,32).translate(0,.1,0);(o=i.xr.getController(0)).addEventListener("select",(function(){var e=new d.o({color:16777215*Math.random()}),i=new d.m(m,e);a.setFromCamera(c,n);var o=a.intersectObjects(t.children,!1)[0].point;console.log(o),i.position.set(o.x,o.y,o.z),t.add(i)})),t.add(o),(r=new d.m(new d.x(.15,.2,32).rotateX(-Math.PI/2),new d.n)).matrixAutoUpdate=!1,r.visible=!1,t.add(r),window.addEventListener("resize",u)}(),i.setAnimationLoop(m)}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scene"}))}var l=document.getElementById("root");a.a.render(o.a.createElement(c,null),l)}},[[15,1,2]]]);
//# sourceMappingURL=main.0eba2dcc.chunk.js.map