(this["webpackJsonpreact-three-demo"]=this["webpackJsonpreact-three-demo"]||[]).push([[0],{15:function(e,n,t){e.exports=t(16)},16:function(e,n,t){"use strict";t.r(n);var i=t(10),o=t.n(i),r=t(13),a=t.n(r),s=t(6),d=(t(21),t(14));t(23);function c(){return Object(i.useEffect)((function(){var e,n,t,i,o,r,a=null,c=!1;function l(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function w(e,o){if(o){console.log("timestamp",e);var s=i.xr.getReferenceSpace();console.log("referenceSpace",s);var d=i.xr.getSession();if(console.log("session",d),!1===c&&(d.requestReferenceSpace("viewer").then((function(e){d.requestHitTestSource({space:e}).then((function(e){a=e}))})),d.addEventListener("end",(function(){c=!1,a=null})),c=!0),a){console.log("frame",o),console.log("hitTestSource",a);var l=o.getHitTestResults(a);if(console.log("hitTestResults",l),l.length){var w=l[0];r.visible=!0,r.matrix.fromArray(w.getPose(s).transform.matrix)}else r.visible=!1}}i.render(t,n)}!function(){e=document.querySelector(".scene"),t=new s.x,n=new s.r(70,window.innerWidth/window.innerHeight,.01,20);var a=new s.i(16777215,12303359,1);a.position.set(.5,1,.25),t.add(a),(i=new s.A({antialias:!0,alpha:!0})).setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.xr.enabled=!0,e.appendChild(i.domElement);var c=new s.m(new s.s(1,1,1,1),new s.p({side:s.e}));c.rotation.x=Math.PI/2,c.position.set(0,-1,-2),t.add(c),document.body.appendChild(d.a.createButton(i,{requiredFeatures:["hit-test"]}));var w=new s.a(.1,.1,.2,32).translate(0,.1,0);(o=i.xr.getController(0)).addEventListener("select",(function(){if(r.visible){var e=new s.o({color:16777215*Math.random()}),n=new s.m(w,e);n.position.setFromMatrixPosition(r.matrix),n.scale.y=2*Math.random()+1,t.add(n)}})),t.add(o),(r=new s.m(new s.w(.15,.2,32).rotateX(-Math.PI/2),new s.n)).matrixAutoUpdate=!1,r.visible=!1,t.add(r),window.addEventListener("resize",l)}(),i.setAnimationLoop(w)}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"scene"}))}var l=document.getElementById("root");a.a.render(o.a.createElement(c,null),l)}},[[15,1,2]]]);
//# sourceMappingURL=main.2f3b0e11.chunk.js.map